{% extends '::ojsbase.html.twig' %}

{% block body -%}
    <h1> {{"journal.boards"|trans}}</h1>
    {% include '::flashbag.html.twig' %}
    <a href="{{ path('board_manager_new') }}" class="btn btn-success">
        {{"c"| trans}}
    </a>
    <hr>

    <table class="records_list table">
        <thead>
            <tr>
                <th>{{"id"|trans}}</th>
                <th>{{"name"|trans}}</th>
                <th>{{"description"|trans}}</th>
                <th>{{"actions"|trans}}</th>
            </tr>
        </thead>
        <tbody>
            {% for entity in entities %}
                <tr>
                    <td>
                        <a class="label label-info" href="{{ path('board_manager_show', { 'id': entity.id }) }}">
                            {{ entity.id }}
                        </a>
                    </td>
                    <td>{{ entity.name }}

                        {% if entity.boardMembers|length > 0 %}
                            <a class="label label-info" href="{{ path('board_manager_show', { 'id': entity.id }) }}">
                                {{entity.boardMembers|length}} members
                            </a>
                        {% else %}
                            <a class="label label-default" href="{{ path('board_manager_show', { 'id': entity.id }) }}">
                                {{"board.hasNoMember"|trans}}
                            </a>
                        {% endif %}
                    </td>
                    <td>{{ entity.description }}</td>
                    <td>
                        {% set back_path = 'board_manager_show' %}
                        {% set edit_path = 'board_manager_edit' %}
                        {% include '::actionbuttons.html.twig' %}
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

{% endblock %}
