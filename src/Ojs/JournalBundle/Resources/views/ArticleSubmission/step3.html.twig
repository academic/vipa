<!-- new author form -->
<div class="author-item panel panel-default">

    <div class="panel-body">
        <form class="form-horizontal validate-form" role="form">
            <input type="hidden" name="authorid" value="{% if articleAuthor is defined %}{{ articleAuthor.author.id }}{% endif %}"/>

            <div class="col-md-12">
                <div class="controls form-inline">
                    <input name="orcid" id="orcidinput" class="form-control input-xs float-label"
                           value="{% if articleAuthor is defined %}{{ articleAuthor.author.orcid }}{% endif %}"
                           placeholder="{{ "author.orcid"|trans }}"
                           onkeypress="OjsArticleSubmission.getOrcidAuthor(event, this);"
                           data-url="{{ path('ojs_journal_submission_orcid', {journalId: selectedJournal().id}) }}"/>
                </div>
                <div class="controls">
                    <span class="control-label"> </span>

                    <div class="controls-row form-inline">
                        <input name="order" type="number" min="1" max="10000" id="orderinput"
                               class="form-control input-sm float-label validate[required,custom[number],min[1],max[1000]]"
                               value="{% if articleAuthor is defined %}{{ articleAuthor.authorOrder }}{% endif %}"
                               placeholder="{{ "author.order"|trans }}"/>
                        <input name="title" id="titleinput" class="form-control input-sm float-label validate[required]"
                               value="{% if articleAuthor is defined %}{{ articleAuthor.author.title }}{% else %}{{ app.user.title }}{% endif %}"
                               placeholder="{{ "author.title"|trans }}"/>
                        <input name="initials" id="initialsinput"
                               class="form-control input-sm float-label validate[required]"
                               value="{% if articleAuthor is defined %}{{ articleAuthor.author.initials }}{% else %}{{ app.user.initials }}{% endif %}"
                               placeholder="{{ "author.initials"|trans }}"/>
                        <input name="firstName" id="firstnameinput"
                               class="form-control input-sm float-label validate[required]"
                               value="{% if articleAuthor is defined %}{{ articleAuthor.author.firstName }}{% else %}{{ app.user.firstName }}{% endif %}"
                               placeholder="{{ "author.firstname"|trans }}"/>
                        <input name="middleName" id="middlenameinput" class="form-control input-sm float-label"
                               value="{% if articleAuthor is defined %}{{ articleAuthor.author.middleName }}{% endif %}"
                               placeholder="{{ "author.middlename"|trans }}"/>
                        <input name="lastName" id="lastnameinput"
                               class="form-control input-sm float-label validate[required]"
                               value="{% if articleAuthor is defined %}{{ articleAuthor.author.lastName }}{% else %}{{ app.user.lastName }}{% endif %}"
                               placeholder="{{ "author.lastname"|trans }}"/>

                    </div>
                    <div class="controls-row">
                        <label class="control-label">{{ "email"|trans }} <span class="mandatory"></span></label>
                        <input name="email" id="emailinput"
                               class="form-control input-sm validate[required,custom[email]]"
                               value="{% if articleAuthor is defined %}{{ articleAuthor.author.email }}{% else %}{{ app.user.email }}{% endif %}"
                               placeholder="{{ "email"|trans }}"/>
                    </div>
                    <div class="control-row">
                        <label class="control-label">{{ "institution"|trans }}</label>
                        <input name="institution" id="institutioninput"
                               value="{% if articleAuthor is defined %}{{ articleAuthor.author.institution }}{% endif %}"
                               class="form-control select2-institution-search-element" multiple="1"
                               style="min-width:250px"/>
                    </div>
                </div>

                <div class="controls">
                    <a class="btn btn-sm btn-danger" onclick="OjsArticleSubmission.removeAuthor($(this));"><i
                                class="fa fa-trash"></i> {{ "remove"|trans }}</a>
                    <a class="btn btn-sm btn-default" onclick="$(this).parent().next().slideToggle('fast');"><i
                                class="caret"></i> {{ "details"|trans }}</a>
                </div>

                <div style="display:none" class="togglePanel">

                    <div class="controls-row">
                        <label class="control-label">{{ "phone"|trans }}</label>
                        <input name="phone" id="phoneinput" class="form-control validate[custom[phone]]"
                               value="{% if articleAuthor is defined %}{{ articleAuthor.author.phone }}{% else %}{{ app.user.phone }}{% endif %}"/>
                    </div>
                    <div class="controls-row">
                        <label class="control-label">{{ "summary"|trans }}</label>
                        <textarea name="summary" id="summaryinput" class="form-control"
                                  rows="3">{% if articleAuthor is defined %}{{ articleAuthor.author.summary }}{% endif %}</textarea>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>
