{% extends '::ojsbase.html.twig' %}
{% block title %}{{ 'title.admin_dashboard'|trans }} {{ parent() }}{% endblock %}
{% block stylesheets %}
    {{ parent() }}

    <style type="text/css">
        .btn-wrap {
            white-space: normal !important;
        }
    </style>
{% endblock %}

{% block breadcrumb %}
    <div class="text-center">
        <h3>{{ "dashboard"|trans }}</h3>
    </div>
{% endblock %}

{% block body %}
    {% include '::flashbag.html.twig' %}
    {% if selectedJournal() and is_granted('VIEW', selectedJournal(), 'adminMenu') %}
        <a href="{{ path("dashboard_editor") }}" class="btn btn-primary pull-right btn-wrap">
            <i class="fa fa-external-link"></i>
            {{ selectedJournal().title }} {{ "dashboard.editor"|trans }}
        </a>

    <div class="panel panel-primary">
        <div class="panel-heading">
            <h4>{{ 'admin.dashboard.journal_settings'|trans }}</h4>
        </div>

        <div class="list-group">
            <a class="list-group-item"
               href="{{ path('ojs_journal_settings_index', {'journalId': selectedJournal().id}) }}">
                <i class="fa fa-cog fa-fw"></i> {{ "settings"|trans }}
            </a>

            <a class="list-group-item"
               href="{{ path('ojs_journal_user_index', {'journalId': selectedJournal().id}) }}">

                <i class="fa fa-key fa-fw"></i>

                {{ "journal.users"|trans }}
            </a>

            <a class="list-group-item"
               href="{{ path('ojs_journal_article_index', {'journalId': selectedJournal().id}) }}">
                <i class="fa fa-file-text fa-fw"></i>
                {{ "journal.articles"|trans }}
            </a>

            <a class="list-group-item"
               href="{{ path('ojs_journal_section_index', {'journalId': selectedJournal().id}) }}">
                <i class="fa fa-square fa-fw"></i>
                {{ "journalsection"|trans }}
            </a>

            <a class="list-group-item"
               href="{{ path('ojs_journal_issue_index', {journalId: selectedJournal().id}) }}">
                <i class="fa fa-newspaper-o fa-fw"></i>
                {{ "issue.manager"|trans }}
            </a>

            <a class="list-group-item"
               href="{{ path('ojs_journal_journal_contact_index', {'journalId': selectedJournal().id}) }}">
                <i class="fa fa-credit-card fa-fw"></i>
                {{ "contact.plural"|trans }}
            </a>

            <a class="list-group-item"
               href="{{ path('ojs_journal_mail_template_index', {'journalId': selectedJournal().id}) }}">
                <i class="fa fa-envelope fa-fw"></i>
                {{ "mail.templates"|trans }}
            </a>

            <a class="list-group-item"
               href="{{ path('ojs_journal_design_index', {'journalId': selectedJournal().id}) }}">
                <i class="fa fa-navicon fa-fw"></i>
                {{ "journal.design"|trans }}
            </a>

            <a class="list-group-item"
               href="{{ path('ojs_journal_theme_index', {'journalId': selectedJournal().id}) }}">
                <i class="fa fa-th-large fa-fw"></i>
                {{ "journal.theme"|trans }}
            </a>

            <a class="list-group-item"
               href="{{ path('ojs_journal_board_index', {'journalId': selectedJournal().id}) }}">
                <i class="fa fa-users fa-fw"></i>
                {{ "boards"|trans }}
            </a>

            <a class="list-group-item" href="{{ path('reports_index') }}">
                <i class="fa fa-file fa-fw"></i>
                {{ "reports.title"|trans }}
            </a>
        </div>
    </div>

    <div>
        {{ getLogs(selectedJournal()) }}
    </div>

    {% else %}
        <div class="alert alert-info" role="alert">
            <h5>{{ "dashboard.use_left"|trans }}</h5>
        </div>
    {% endif %}
{% endblock %}
